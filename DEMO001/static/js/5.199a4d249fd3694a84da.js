webpackJsonp([5],{"6Phs":function(e,t,i){var n=i("uWlK");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i("rjj0")("323056d7",n,!0,{})},"B7+v":function(e,t,i){"use strict";function n(e){i("hhfS")}var s=i("//Fk"),o=i.n(s),a=i("woOf"),r=i.n(a),l=i("Cz8s"),c=i("rHil"),d=i("1DHf"),p=(l.a,c.a,d.a,{name:"OrgSelection",components:{mHeader:l.a,Group:c.a,Cell:d.a},data:function(){return{mleftbtn:'<i class="iconfont icon-arrow-left"></i>',selectedOrgList:[{text:"总部",code:44,type:"folder"}],selectedOrgCodes:{44:!0},selectedOrgCode:0,dataList:[],showHeader:!1,oldSelectedOrgList:[{text:"总部",code:44,type:"folder"}],cacheOrgList:[]}},computed:{},props:{},mounted:function(){},methods:{showAndSelectOrg:function(e){this.showHeader=!0,this.oldSelectedOrgList=r()([],this.selectedOrgList),this.actionSelectOrg(e)},actionSelectOrg:function(e){var t=this;if(e.code!==this.selectedOrgCode||44==e.code){var i=[];"folder"!==e.type||this.cacheOrgList[e.code]||i.push(this.publicApi.ajax(this.URL.LIST.ORG,{parent:e.code},!0)),o.a.all(i).then(function(i){var n=i[0];if(t.cacheOrgList[e.code]?t.dataList=t.cacheOrgList[e.code]:n&&(200===n.data.status?n.data.data.length>0&&(t.dataList=n.data.data,t.cacheOrgList[e.code]=n.data.data):t.$vux.toast.show("获取数据失败，请重试")),e.code.toString().length>t.selectedOrgList[t.selectedOrgList.length-1].code.toString().length)t.selectedOrgCodes[e.code]||(t.selectedOrgCodes[e.code]=!0,t.selectedOrgList.push(e));else{var s=t.selectedOrgList,o=[];for(var a in s)s[a].code.toString().length<e.code.toString().length?o.push(s[a]):t.selectedOrgCodes[s[a].code]=!1;t.selectedOrgCodes[e.code]=!0,t.selectedOrgList=o,t.selectedOrgList.push(e)}t.selectedOrgCode=t.selectedOrgList[t.selectedOrgList.length-1].code,t.$nextTick(function(){document.querySelectorAll(".org-sel-inner").forEach(function(e){e.scrollLeft=99999})})})}},selectCurOrg:function(){this.oldSelectedOrgList=r()([],this.selectedOrgList),this.$nextTick(function(){document.querySelectorAll(".org-sel-inner").forEach(function(e){e.scrollLeft=99999})}),this.showHeader=!1,this.$emit("actionChange",this.selectedOrgList[this.selectedOrgList.length-1])},cancelSelect:function(){this.selectedOrgList=r()([],this.oldSelectedOrgList),this.dataList=[],this.showHeader=!1}}}),h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"g-org-selection"},[i("group",{attrs:{gutter:0,"label-width":"4em"}},[i("cell",{staticClass:"org-sel-cell",attrs:{title:"组织机构"}},[i("div",{staticClass:"org-sel-outer"},[i("div",{ref:"orgsel",staticClass:"org-sel-inner"},[i("ul",{staticClass:"org-sel-ul"},[e._l(e.oldSelectedOrgList,function(t,n){return[i("li",{key:n,class:{active:n===e.oldSelectedOrgList.length-1},on:{click:function(i){e.showAndSelectOrg(t)}}},[e._v(e._s(t.text)),i("i",{staticClass:"iconfont icon-right"})])]})],2)])])])],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showHeader,expression:"showHeader"}],staticClass:"popup-selection"},[i("m-header",{attrs:{mTitle:"查询范围",rightBtn:"查看全部",defaultBack:!1,leftBtn:e.mleftbtn},on:{actionLeft:e.cancelSelect,actionRight:e.selectCurOrg}}),e._v(" "),i("div",{staticClass:"g-content"},[i("group",{attrs:{gutter:0,"label-width":"4em"}},[i("cell",{staticClass:"org-sel-cell",attrs:{title:"组织机构"}},[i("div",{staticClass:"org-sel-outer"},[i("div",{ref:"orgsel",staticClass:"org-sel-inner"},[i("ul",{staticClass:"org-sel-ul"},[e._l(e.selectedOrgList,function(t,n){return[i("li",{key:n,class:{active:n===e.selectedOrgList.length-1},on:{click:function(i){e.actionSelectOrg(t)}}},[e._v(e._s(t.text)),i("i",{staticClass:"iconfont icon-right"})])]})],2)])])])],1),e._v(" "),i("group",{staticClass:"org-list-wrap",attrs:{gutter:0}},e._l(e.dataList,function(t,n){return i("cell",{key:n,attrs:{"value-align":"left","is-link":"folder"===t.type},nativeOn:{click:function(i){e.actionSelectOrg(t)}}},[i("span",{staticClass:"item",class:{active:e.selectedOrgCode===t.code}},[e._v(e._s(t.text))])])}))],1)],1)],1)},g=[],u={render:h,staticRenderFns:g},m=u,f=i("VU/8"),w=n,v=f(p,m,!1,w,"data-v-22a4c83e",null);t.a=v.exports},CY1O:function(e,t,i){var n=i("zhnK");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i("rjj0")("42f3d1af",n,!0,{})},"FYU/":function(e,t,i){"use strict";function n(e){i("CY1O")}function s(e){i("6Phs")}Object.defineProperty(t,"__esModule",{value:!0});var o=i("mvHQ"),a=i.n(o),r=i("Dd8w"),l=i.n(r),c=i("Cz8s"),d={name:"listitem",props:{showicon:!1,ismale:!1,name:"",type:"",cont1:"",cont2:"",cont3:""}},p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"g-list-item"},[i("div",{staticClass:"gender"},[!e.ismale&&e.showicon?i("i",{staticClass:"iconfont icon-female"}):e._e(),e._v(" "),e.ismale&&e.showicon?i("i",{staticClass:"iconfont icon-male"}):e._e()]),e._v(" "),i("div",{staticClass:"baseinfo"},[i("p",{staticClass:"name"},[e._v(e._s(e.name))]),e._v(" "),i("p",{staticClass:"sub"},[e._v(e._s(e.type))])]),e._v(" "),i("ul",{staticClass:"detail"},[i("li",[e._v(e._s(e.cont1))]),e._v(" "),i("li",[e._v(e._s(e.cont2))]),e._v(" "),i("li",[e._v(e._s(e.cont3))])]),e._v(" "),e._t("right")],2)},h=[],g={render:p,staticRenderFns:h},u=g,m=i("VU/8"),f=n,w=m(d,u,!1,f,"data-v-60ff74d8",null),v=w.exports,L=i("B7+v"),T=i("xEcq"),S=i("NYxO"),b=i("rHil"),y=i("32ER"),x=(y.a,b.a,c.a,L.a,l()({cTitle:function(){return this.pageType===this.TYPES.FriendList&&1==this.$route.query.focus?"添加关注":this.PAGEVALS[this.pageType].title},sPlaceholder:function(){if(this.pageType===this.TYPES.FriendList)return"请输入姓名"}},Object(S.b)(["personListRefresh","personListScrollTop"]),{showOpts:function(){return this.pageType===this.TYPES.FriendList||this.pageType===this.TYPES.VIOLATIONWARNLIST}}),{name:"CommonList",components:{CellBox:y.a,Group:b.a,mHeader:c.a,listItem:v,orgSelection:L.a},data:function(){return{ORGCODE:window.sessionStorage.getItem("orgCode"),TYPES:{VIOLATIONWARNLIST:"ViolationWarnList",COMMUNITYSERVICELIST:"CommunityServiceList",FriendList:"FriendList",LOCLIST:"/Home/LocList",TELREPORTLIST:"TelReportList",EDUCATIONLIST:"EducationList",HELPLIST:"HelpList",FIELDVISITLIST:"FieldVisitList",REWARDLIST:"RewardList",ATTENTION:"/Home/Attention"},PAGEVALS:{ViolationWarnList:{eid:"107191",title:"违规警告",subpage:"ViolationPersonalList"},CommunityServiceList:{eid:"105191",title:"社区服务",subpage:"CommunityService"},FriendList:{eid:"103201",sid:"103202",title:"好友信息",subpage:"FileInTube"},"/Home/LocList":{eid:"104101",title:"定位",subpage:"LocDetail"},TelReportList:{eid:"106191",title:"电话报告",subpage:"TelPersonalDetail"},EducationList:{eid:"110101",title:"教育学习",subpage:"Education"},HelpList:{eid:"114101",title:"帮困扶助",subpage:"Help"},FieldVisitList:{eid:"",title:"实地走访",subpage:"FieldVisitDetail"},RewardList:{eid:"",title:"奖惩查看",subpage:"rewarList"},"/Home/Attention":{eid:"115101",title:"关注",subpage:"FileInTube"}},pageType:this.$route.name||this.$route.path,dataList:[],showLoading:2,meScroll:null,keyword:"",pageSize:10,pageIndex:0,pageSum:0,unitcode:window.sessionStorage.getItem("orgCode")}},watch:{$route:function(e,t){e.path===this.pageType||"/Home/LocList"!=e.path&&"/Home/Attention"!=e.path||this.routerChange(e.path)}},computed:l()({cTitle:function(){return this.pageType===this.TYPES.FriendList&&1==this.$route.query.focus?"添加关注":this.PAGEVALS[this.pageType].title},sPlaceholder:function(){if(this.pageType===this.TYPES.FriendList)return"请输入姓名"}},Object(S.b)(["personListRefresh","personListScrollTop"]),{showOpts:function(){return this.pageType===this.TYPES.FriendList||this.pageType===this.TYPES.VIOLATIONWARNLIST}}),activated:function(){this.meScroll&&this.meScroll.scrollTo(this.$store.getters.personListScrollTop,0);var e=this.$store.getters.modifiedItem;if(e){var t=JSON.parse(a()(this.dataList));for(var i in t)t[i].personid===e.personid&&(t[i].isFocus=e.isFocus);this.dataList=JSON.parse(a()(t)),this.$store.dispatch("setModifiedItem",null)}},created:function(){console.log(this.pageType),this.pageType===this.TYPES.LOCLIST?console.log("bujiazai"):this.getList()},mounted:function(){this.initScroll()},methods:{actionCurSearch:function(e){this.keyword=e,this.pageIndex=0,this.showLoading=2,this.getList()},initScroll:function(){var e=this;this.meScroll=new T.a("mescroll",{down:{callback:e.refresh,auto:!1,offset:60},up:{callback:e.loadMore,auto:!1,offset:60,htmlNodata:'<p class="upwarp-nodata">-- 没有更多数据了 --</p>'}})},routerChange:function(e){this.pageType=e,this.pageIndex=0,this.dataList=[],this.unitcode=this.ORGCODE,this.showLoading=2,this.keyword="",this.$refs.mheader.setKeyword(""),this.meScroll&&(this.$store.dispatch("setPersonListScrollTop",0),this.meScroll.scrollTo(0,0)),this.pageType===this.TYPES.LOCLIST&&44==this.ORGCODE?console.log("bujiazai"):this.getList()},getList:function(){var e=this;if(this.pageType===this.TYPES.LOCLIST&&44==this.unitcode)return this.dataList=[],this.meScroll.endSuccess(20,!0),this.$vux.toast.text("请选择市及以下机构！"),!1;var t={};switch(this.pageType){case this.TYPES.LOCLIST:t={name:this.keyword,start:this.pageIndex*this.pageSize,pageSize:this.pageSize,unitcode:this.unitcode};break;case this.TYPES.FriendList:t={start:this.pageIndex*this.pageSize,length:this.pageSize,p_personname:this.keyword};break;case this.TYPES.ATTENTION:t={start:this.pageIndex*this.pageSize,length:this.pageSize,p_personname:this.keyword,fcorepersondict:"01"};break;case this.TYPES.VIOLATIONWARNLIST:case this.TYPES.TELREPORTLIST:case this.TYPES.COMMUNITYSERVICELIST:case this.TYPES.EDUCATIONLIST:case this.TYPES.HELPLIST:case this.TYPES.FIELDVISITLIST:case this.TYPES.REWARDLIST:t={draw:this.pageIndex+1,p_personno:"",p_personname:this.keyword,p_idcard:""}}this.publicApi.ajax(this.URL.LIST.LOC,t,this.showLoading).then(function(t){200===t.data.status?0===e.pageIndex?(e.dataList=t.data.data.list,e.unitcode||(e.unitcode=t.data.data.unitcode),e.pageSum=t.data.data.pageSum,e.showLoading=!1,e.meScroll.endSuccess(20,!0),e.pageSum<=e.pageIndex+1&&e.meScroll.showNoMore()):(e.dataList=e.dataList.concat(t.data.data.list),e.pageSum>e.pageIndex+1?e.meScroll.endSuccess(20,!0):e.meScroll.endSuccess(20,!1)):e.$vux.toast.text(t.data.message),e.$refs.mheader&&e.$refs.mheader.actionHideSearchBar()})},loadMore:function(){console.log("loadmore"),this.pageIndex++,this.getList()},refresh:function(){console.log("refresh"),this.pageIndex=0,this.getList()},gotoDetail:function(e){var t="";switch(this.pageType){case this.TYPES.FriendList:case this.TYPES.ATTENTION:this.$store.dispatch("setFileItem",e),t=e.personid;break;default:t=e.personid}this.$store.dispatch("setPersonListScrollTop",this.meScroll.getScrollTop()),this.pageType===this.TYPES.LOCLIST&&this.$store.dispatch("globalLoading",2),this.$router.push({name:""+this.PAGEVALS[this.pageType].subpage,query:{id:t,name:encodeURIComponent(e.personname),phone:e.contactmobil,unitcode:this.unitcode}})},followTarget:function(e,t){var i=this;e.stopPropagation(),this.$vux.confirm.show({content:t.isFocus?"确定不再关注此人？":"确定关注此人？",onConfirm:function(){t.isFocus=!t.isFocus,t.isFocus?i.$vux.toast.text("关注成功"):i.$vux.toast.text("取消关注成功")},onCancel:function(){}})},reqLocation:function(e,t){var i=this;e.stopPropagation(),this.publicApi.reqLocation({}).then(function(e){200===e.data.status?i.$vux.toast.show({text:'<div><div style="font-size:24px"><i style="font-size:28px;vertical-align:-2px;margin-right: 5px;" class="iconfont icon-submit"></i><span>'+t.name+'</span></div><p style="padding-left:0.5em">要求提交实时定位</p></div>',width:"73vw",type:"text"}):i.$vux.toast.text(e.data.message)})},actionOrgChange:function(e){console.log(e),this.unitcode=e.code,this.keyword="",this.showLoading=2,this.getList()}}}),O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("m-header",{ref:"mheader",attrs:{mTitle:e.cTitle,defaultSearch:!0,searchPlaceholder:e.sPlaceholder,defaultBack:"关注"!=e.cTitle&&"定位"!=e.cTitle},on:{actionSearch:e.actionCurSearch}}),e._v(" "),i("div",{staticClass:"g-content"},[e.pageType===e.TYPES.LOCLIST?i("orgSelection",{on:{actionChange:e.actionOrgChange}}):e._e(),e._v(" "),i("div",{staticClass:"mescroll-wrap"},[i("div",{staticClass:"mescroll",attrs:{id:"mescroll"}},[i("group",{staticClass:"g-group g-list",attrs:{gutter:10}},e._l(e.dataList,function(t,n){return i("cell-box",{key:n,staticClass:"item",nativeOn:{click:function(i){e.gotoDetail(t)}}},[e.pageType===e.TYPES.LOCLIST?i("list-item",{attrs:{name:t.personname,cont1:"号码："+t.fixnumber,cont2:"部门："+t.orgname}}):e._e(),e._v(" "),e.pageType===e.TYPES.FriendList||e.pageType===e.TYPES.ATTENTION?i("list-item",{attrs:{showicon:!0,ismale:"1"===t.sex,name:t.personname,type:t.rctype,cont1:"电话："+t.tel,cont2:"类型："+t.type,cont3:"号码："+t.fixnumber}},[i("div",{staticClass:"opts",attrs:{slot:"right"},slot:"right"},[i("div",{staticClass:"opt-follow",class:{"z-following":t.isFocus},on:{click:function(i){e.followTarget(i,t)}}},[i("span",{staticClass:"default"},[i("i",{staticClass:"iconfont icon-follow"}),e._v("关注")]),e._v(" "),i("span",{staticClass:"active"},[e._v("已关注")])])])]):e._e(),e._v(" "),e.pageType===e.TYPES.COMMUNITYSERVICELIST||e.pageType===e.TYPES.TELREPORTLIST||e.pageType===e.TYPES.VIOLATIONWARNLIST||e.pageType===e.TYPES.EDUCATIONLIST||e.pageType===e.TYPES.HELPLIST||e.pageType===e.TYPES.REWARDLIST||e.pageType===e.TYPES.FIELDVISITLIST?i("list-item",{attrs:{showicon:!0,ismale:"1"===t.sex,name:t.personname,type:t.monitorlevel_str,cont1:"号码："+t.fixnumber,cont2:"手机："+t.contactmobil}}):void 0],2)}))],1)])],1)],1)},k=[],I={render:O,staticRenderFns:k},E=I,C=i("VU/8"),_=s,P=C(x,E,!1,_,null,null);t.default=P.exports},HTUZ:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"\n.g-org-selection .org-sel-cell[data-v-22a4c83e] {\n  position: relative;\n}\n.g-org-selection .org-sel-cell .org-sel-outer[data-v-22a4c83e] {\n  position: absolute;\n  right: 10px;\n  top: 0;\n  height: 44px;\n}\n.g-org-selection .popup-selection[data-v-22a4c83e] {\n  position: fixed;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 99;\n}\n.g-org-selection .org-sel-outer[data-v-22a4c83e] {\n  width: 250px;\n  height: 44px;\n  overflow: hidden;\n}\n.g-org-selection .org-sel-inner[data-v-22a4c83e] {\n  width: 250px;\n  line-height: 44px;\n  height: 58px;\n  overflow: scroll;\n}\n.g-org-selection .org-sel-inner[data-v-22a4c83e] {\n  /*width: 200px;*/\n  /*overflow-x: scroll;*/\n  /*overflow-y: hidden;*/\n  /*height: 32px;*/\n}\n.g-org-selection .org-sel-ul[data-v-22a4c83e] {\n  display: inline-block;\n  white-space: nowrap;\n}\n.g-org-selection .org-sel-ul > li[data-v-22a4c83e] {\n  display: inline-block;\n}\n.g-org-selection .org-sel-ul > li > .iconfont[data-v-22a4c83e] {\n  font-size: 12px;\n  -webkit-transform: scale(0.8);\n          transform: scale(0.8);\n  font-weight: 700;\n  vertical-align: 1px;\n  padding: 0 3px 0 1px;\n}\n.g-org-selection .org-sel-ul > li.active[data-v-22a4c83e] {\n  color: #024ea4;\n}\n.g-org-selection .org-list-wrap[data-v-22a4c83e] {\n  position: absolute;\n  top: 44px;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: scroll;\n  background: #fff;\n}\n.g-org-selection .org-list-wrap .item[data-v-22a4c83e] {\n  color: #292929;\n}\n.g-org-selection .org-list-wrap .item.active[data-v-22a4c83e] {\n  color: #024ea4;\n}\n",""])},K913:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"/*\n * mescroll -- 精致的下拉刷新和上拉加载js框架  ( a great JS framework for pull-refresh and pull-up-loading )\n * version 1.3.2\n * 2018-01-01\n * author: wenju < mescroll@qq.com > 文举\n *\n * 官网:\thttp://www.mescroll.com\n * 文档:\thttps://github.com/mescroll/mescroll.git\n * 动态:\thttps://github.com/mescroll/mescroll-versions\n * 问答:http://www.mescroll.com/qa.html\n * issues: https://github.com/mescroll/mescroll/issues\n * QQ交流群: 633126761\n *\n * 温馨提示: mescroll唯一的全局样式: html,body{height:100%},用于固定body的高度满屏; 如果影响到您原本的项目样式,可自行删除\n */\n.mescroll{width:100%;height:100%;overflow-y:auto\n}\n.mescroll-hardware{-webkit-transform:translateZ(0);-webkit-transform-style:preserve-3d;-webkit-backface-visibility:hidden;-webkit-perspective:1000\n}\n.mescroll-downwarp{position:relative;width:100%;height:0;overflow:hidden;text-align:center\n}\n.mescroll-downwarp-reset{-webkit-transition:height 300ms;transition:height 300ms\n}\n.mescroll-downwarp .downwarp-content{position:absolute;left:0;bottom:0;width:100%;min-height:30px;padding:10px 0\n}\n.mescroll-upwarp{min-height:30px;padding:15px 0;text-align:center;visibility:hidden\n}\n.mescroll-downwarp .downwarp-tip,.mescroll-upwarp .upwarp-tip,.mescroll-upwarp .upwarp-nodata{display:inline-block;font-size:12px;color:gray;vertical-align:middle\n}\n.mescroll-downwarp .downwarp-progress,.mescroll-upwarp .upwarp-progress{display:inline-block;width:16px;height:16px;border-radius:50%;border:1px solid gray;margin-right:8px;border-bottom-color:transparent;vertical-align:middle\n}\n.mescroll-rotate{-webkit-animation:mescrollRotate .6s linear infinite;animation:mescrollRotate .6s linear infinite\n}\n@-webkit-keyframes mescrollRotate{\n0%{-webkit-transform:rotate(0deg)\n}\n100%{-webkit-transform:rotate(360deg)\n}\n}\n@keyframes mescrollRotate{\n0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)\n}\n100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)\n}\n}\n.mescroll-empty{width:100%;padding-top:20px;text-align:center\n}\n.mescroll-empty .empty-icon{width:45%\n}\n.mescroll-empty .empty-tip{margin-top:6px;font-size:14px;color:gray\n}\n.mescroll-empty .empty-btn{max-width:50%;margin:20px auto;padding:10px;border:1px solid #65aadd;border-radius:6px;background-color:white;color:#65aadd\n}\n.mescroll-empty .empty-btn:active{opacity:.75\n}\n.mescroll-totop{z-index:9990;position:fixed;right:10px;bottom:30px;width:36px;height:36px;border-radius:50%;opacity:0\n}\n.mescroll-fade-in{-webkit-animation:mescrollFadeIn .5s linear forwards;animation:mescrollFadeIn .5s linear forwards\n}\n@-webkit-keyframes mescrollFadeIn{\n0%{opacity:0\n}\n100%{opacity:1\n}\n}\n@keyframes mescrollFadeIn{\n0%{opacity:0\n}\n100%{opacity:1\n}\n}\n.mescroll-fade-out{pointer-events:none;-webkit-animation:mescrollFadeOut .5s linear forwards;animation:mescrollFadeOut .5s linear forwards\n}\n@-webkit-keyframes mescrollFadeOut{\n0%{opacity:1\n}\n100%{opacity:0\n}\n}\n@keyframes mescrollFadeOut{\n0%{opacity:1\n}\n100%{opacity:0\n}\n}\n.mescroll-bar::-webkit-scrollbar-track{background-color:transparent\n}\n.mescroll-bar::-webkit-scrollbar{width:6px\n}\n.mescroll-bar::-webkit-scrollbar-thumb{border-radius:6px;background-color:#ccc\n}\n.mescroll-bar::-webkit-scrollbar-thumb:hover{background-color:#aaa\n}\n.dw-education .addnew {\n  font-size: 15px;\n}\n.dw-education .weui-cells {\n  margin-top: 0;\n}\n.dw-education .weui-cells .item {\n  border-bottom: 4px solid #f5f5f5;\n  padding: 5px 0;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: row;\n          flex-direction: row;\n}\n.dw-education .weui-cells .item .cont {\n  -webkit-box-flex: 1;\n  -webkit-flex: auto;\n          flex: auto;\n}\n.dw-education .weui-cells .item .warn .weui-cell__ft {\n  padding-left: 2em;\n}\n.dw-education .weui-cells .item .opts {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-flex: 0;\n  -webkit-flex: none;\n          flex: none;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  -webkit-box-pack: right;\n  -webkit-justify-content: right;\n          justify-content: right;\n}\n.dw-education .weui-cells .item .opts .btn-del {\n  font-size: 15px;\n  color: rgba(246, 11, 11, 0.7);\n  padding: 20px 12px;\n}\n.dw-education .weui-cells .weui-cell {\n  padding: 3px 12px;\n}\n.dw-education .weui-cells .weui-cell:before {\n  height: 0;\n  border: none;\n}\n.dw-education .weui-cells .weui-cell .weui-cell__ft {\n  width: 72.6%;\n  text-align: left;\n  color: #292929;\n}\n",""])},SgX3:function(e,t,i){var n=i("K913");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i("rjj0")("2d84e74a",n,!0,{})},UuGl:function(e,t,i){"use strict";function n(e){i("SgX3")}Object.defineProperty(t,"__esModule",{value:!0});var s=i("mvHQ"),o=i.n(s),a=i("Cz8s"),r=i("rHil"),l=i("1DHf"),c=i("xEcq"),d=(r.a,l.a,a.a,{name:"CommonItemList",components:{Group:r.a,Cell:l.a,mHeader:a.a},data:function(){return{TYPES:{EDUCATION:"Education",HELP:"Help",VIOLATION:"ViolationPersonalList",COMMUNITY:"CommunityService"},LOGS:{Education:{list:"110201",getadd:"110203",del:"110204",add:"110202"},Help:{list:"114201",getadd:"110203",del:"114202",add:"114204"},ViolationPersonalList:{},CommunityService:{}},pageType:this.$route.name,dataList:[],pageIndex:0,meScroll:null,pageSum:0,pid:this.$route.query.id,phone:this.$route.query.phone,newBtn:"",name:decodeURIComponent(this.$route.query.name),showLoading:2}},computed:{cTitle:function(){var e="";switch(this.pageType){case this.TYPES.EDUCATION:e=this.name+" 教育学习";break;case this.TYPES.HELP:e=this.name+" 帮困扶助";break;case this.TYPES.VIOLATION:e=this.name+" 违规警告";break;case this.TYPES.COMMUNITY:e=this.name+" 社区服务"}return e}},activated:function(){console.log("activated"),this.meScroll&&this.meScroll.scrollTo(this.$store.getters.itemListScrollTop,0);var e=this.$store.getters.modifiedItem,t=this.$store.getters.deletedItem,i=-1,n="";switch(this.pageType){case this.TYPES.EDUCATION:n="rceducenid";break;case this.TYPES.HELP:n="rchelpid"}if(t){var s=this.dataList.filter(function(e){return e[n]!==t[n]});this.dataList=JSON.parse(o()(s)),this.$store.dispatch("setDeletedItem",null),this.$store.dispatch("setModifiedItem",null)}else e&&(this.dataList.some(function(t,s){if(t[n]===e[n])return i=s,e.edit=t.edit,e.delete=t.delete,!0}),this.dataList[i]=e,this.dataList=JSON.parse(o()(this.dataList)),this.$store.dispatch("setModifiedItem",null))},mounted:function(){this.getList(),this.initNew(),this.initScroll()},beforeRouteLeave:function(e,t,i){(e.meta.level>t.meta.level||!e.meta.level)&&this.$store.dispatch("setItemListScrollTop",this.meScroll.getScrollTop()),i()},methods:{initNew:function(){var e=this;"ViolationPersonalList"===this.pageType?console.log("没有新增按钮"):(this.LOGS[this.pageType].getadd&&this.$logLine.eventStart(this.LOGS[this.pageType].getadd),this.publicApi.getAddBtn(this.pageType).then(function(t){200===t.data.status?(t.data.data.isExist?e.newBtn="新增":e.newBtn="",e.$logLine.eventEnd(0,t.data.message).send()):(e.$vux.toast.text(t.data.message),e.$logLine.eventEnd(1,t.data.message).send())}))},addNew:function(){switch(this.LOGS[this.pageType].add&&this.$logLine.eventStart(this.LOGS[this.pageType].add),this.pageType){case this.TYPES.EDUCATION:window.sessionStorage.removeItem("APP_EDUCATION_DETAIL"),this.$router.push({name:"AddEducation",query:{id:this.pid}});break;case this.TYPES.HELP:window.sessionStorage.removeItem("APP_HELP_DETAIL"),this.$router.push({name:"HelpEdit",query:{id:this.pid,name:encodeURIComponent(this.name)}});break;case this.TYPES.COMMUNITY:window.sessionStorage.removeItem("APP_COMMUNITY_DETAIL"),this.$router.push({name:"AddCommunityService",query:{id:this.pid}})}},gotoDetail:function(e){var t=this.pageType+"Detail";this.$store.dispatch("globalLoading",2),this.$router.push({name:t,query:{id:this.pid,itemid:e.rceducenid||e.rccrossareaid||e.rcedupubworkid||e.rchelpid,delete:e.delete,edit:e.edit,name:this.name,phone:this.phone}})},initScroll:function(){var e=this;this.meScroll=new c.a("mescroll",{down:{callback:e.refresh,auto:!1,offset:60},up:{callback:e.loadMore,auto:!1,offset:60,htmlNodata:'<p class="upwarp-nodata">-- 没有更多数据了 --</p>'}})},loadMore:function(){console.log("loadmore"),this.pageIndex++,this.getList()},refresh:function(){console.log("refresh"),this.pageIndex=0,this.getList()},getList:function(){var e=this;this.LOGS[this.pageType].list&&this.$logLine.eventStart(this.LOGS[this.pageType].list),this.publicApi.getCommonItemList(this.pageType,{personid:this.pid,type:0,index:0,draw:this.pageIndex+1},this.showLoading).then(function(t){if(200===t.data.status){var i=t.data.data.list;0===e.pageIndex?(e.dataList=i,e.pageSum=t.data.data.pageSum,e.showLoading=!1,e.meScroll.endSuccess(20,!0),e.pageSum<=e.pageIndex+1&&e.meScroll.showNoMore()):(e.dataList=e.dataList.concat(i),e.pageSum>e.pageIndex+1?e.meScroll.endSuccess(20,!0):e.meScroll.endSuccess(20,!1)),e.$logLine.eventEnd(0,t.data.message).send()}else e.$vux.toast.text(t.data.message),e.$logLine.eventEnd(1,t.data.message).send()})},actionDel:function(e,t){var i=this;e.stopPropagation(),this.LOGS[this.pageType].del&&this.$logLine.eventStart(this.LOGS[this.pageType].del);var n=function(e,n){200!==n.status?(i.$vux.toast.show({text:"删除失败",type:"text"}),i.$logLine.eventEnd(1,n.data.message).send()):(i.$vux.toast.show({text:"删除成功",type:"text",onShow:function(){var n=i.dataList.filter(function(i){return i[e]!==t[e]});i.dataList=JSON.parse(o()(n))}}),i.$logLine.eventEnd(0,n.data.message).send())};this.$vux.confirm.show({content:"您确定要删除该条记录吗？",onConfirm:function(){i.pageType===i.TYPES.EDUCATION?i.publicApi.education("delete",{ids:t.rceducenid},!0).then(function(e){n("rceducenid",e)}):i.pageType===i.TYPES.COMMUNITY?i.publicApi.communityService("delete",{ids:t.rcedupubworkid},!0).then(function(e){n("rcedupubworkid",e)}):i.pageType===i.TYPES.HELP&&i.publicApi.help("delete",{ids:t.rchelpid},!0).then(function(e){n("rchelpid",e)})}})}}}),p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dw-education"},[i("m-header",{attrs:{mTitle:e.cTitle,rightBtn:e.newBtn},on:{actionRight:e.addNew}}),e._v(" "),i("div",{staticClass:"g-content"},[i("div",{staticClass:"mescroll",attrs:{id:"mescroll"}},[i("group",{attrs:{gutter:0}},e._l(e.dataList,function(t,n){return i("div",{key:n,staticClass:"item",attrs:{"data-test":"0"},on:{click:function(i){e.gotoDetail(t)}}},[e.pageType===e.TYPES.EDUCATION?[i("div",{staticClass:"cont"},[i("cell",{attrs:{title:"教育日期"}},[i("div",[i("span",[e._v(e._s(t.educendate))])])]),e._v(" "),i("cell",{attrs:{title:"教育地点"}},[i("div",[i("span",[e._v(e._s(t.educenplace))])])]),e._v(" "),i("cell",{attrs:{title:"教育内容"}},[i("div",[i("span",[e._v(e._s(t.educencontent))])])])],1),e._v(" "),t.delete?i("div",{staticClass:"opts"},[i("a",{staticClass:"btn-del",on:{click:function(i){e.actionDel(i,t)}}},[e._v("删除")])]):e._e()]:e._e(),e._v(" "),e.pageType===e.TYPES.HELP?[i("div",{staticClass:"cont"},[i("cell",{attrs:{title:"帮扶类别"}},[i("div",[i("span",[e._v(e._s(t.helpcode_str))])])]),e._v(" "),i("cell",{attrs:{title:"帮扶日期"}},[i("div",[i("span",[e._v(e._s(t.helpdate))])])]),e._v(" "),i("cell",{attrs:{title:"帮扶内容"}},[i("div",[i("span",[e._v(e._s(t.helpcontent))])])])],1),e._v(" "),t.delete?i("div",{staticClass:"opts"},[i("span",{staticClass:"btn-del",on:{click:function(i){e.actionDel(i,t)}}},[e._v("删除")])]):e._e()]:e._e(),e._v(" "),e.pageType===e.TYPES.VIOLATION?[i("div",{staticClass:"cont warn"},[i("cell",{attrs:{title:"违规开始时间"}},[i("div",[i("span",[e._v(e._s(t.crossdate))])])]),e._v(" "),i("cell",{attrs:{title:"违规结束时间"}},[i("div",[i("span",[e._v(e._s(t.crossenddate))])])]),e._v(" "),i("cell",{attrs:{title:"违规类型"}},[i("div",[i("span",[e._v(e._s(t.crosstype_str))])])])],1)]:e._e(),e._v(" "),e.pageType===e.TYPES.COMMUNITY?[i("div",{staticClass:"cont"},[i("cell",{attrs:{title:"劳动地点"}},[i("div",[i("span",[e._v(e._s(t.workplace))])])]),e._v(" "),i("cell",{attrs:{title:"开始时间"}},[i("div",[i("span",[e._v(e._s(t.workdate))])])]),e._v(" "),i("cell",{attrs:{title:"结束时间"}},[i("div",[i("span",[e._v(e._s(t.workenddate))])])])],1),e._v(" "),t.delete?i("div",{staticClass:"opts"},[i("a",{staticClass:"btn-del",on:{click:function(i){e.actionDel(i,t)}}},[e._v("删除")])]):e._e()]:e._e()],2)}))],1)])],1)},h=[],g={render:p,staticRenderFns:h},u=g,m=i("VU/8"),f=n,w=m(d,u,!1,f,null,null);t.default=w.exports},hhfS:function(e,t,i){var n=i("HTUZ");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i("rjj0")("5f72d71a",n,!0,{})},uWlK:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"/*\n * mescroll -- 精致的下拉刷新和上拉加载js框架  ( a great JS framework for pull-refresh and pull-up-loading )\n * version 1.3.2\n * 2018-01-01\n * author: wenju < mescroll@qq.com > 文举\n *\n * 官网:\thttp://www.mescroll.com\n * 文档:\thttps://github.com/mescroll/mescroll.git\n * 动态:\thttps://github.com/mescroll/mescroll-versions\n * 问答:http://www.mescroll.com/qa.html\n * issues: https://github.com/mescroll/mescroll/issues\n * QQ交流群: 633126761\n *\n * 温馨提示: mescroll唯一的全局样式: html,body{height:100%},用于固定body的高度满屏; 如果影响到您原本的项目样式,可自行删除\n */\n.mescroll{width:100%;height:100%;overflow-y:auto\n}\n.mescroll-hardware{-webkit-transform:translateZ(0);-webkit-transform-style:preserve-3d;-webkit-backface-visibility:hidden;-webkit-perspective:1000\n}\n.mescroll-downwarp{position:relative;width:100%;height:0;overflow:hidden;text-align:center\n}\n.mescroll-downwarp-reset{-webkit-transition:height 300ms;transition:height 300ms\n}\n.mescroll-downwarp .downwarp-content{position:absolute;left:0;bottom:0;width:100%;min-height:30px;padding:10px 0\n}\n.mescroll-upwarp{min-height:30px;padding:15px 0;text-align:center;visibility:hidden\n}\n.mescroll-downwarp .downwarp-tip,.mescroll-upwarp .upwarp-tip,.mescroll-upwarp .upwarp-nodata{display:inline-block;font-size:12px;color:gray;vertical-align:middle\n}\n.mescroll-downwarp .downwarp-progress,.mescroll-upwarp .upwarp-progress{display:inline-block;width:16px;height:16px;border-radius:50%;border:1px solid gray;margin-right:8px;border-bottom-color:transparent;vertical-align:middle\n}\n.mescroll-rotate{-webkit-animation:mescrollRotate .6s linear infinite;animation:mescrollRotate .6s linear infinite\n}\n@-webkit-keyframes mescrollRotate{\n0%{-webkit-transform:rotate(0deg)\n}\n100%{-webkit-transform:rotate(360deg)\n}\n}\n@keyframes mescrollRotate{\n0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)\n}\n100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)\n}\n}\n.mescroll-empty{width:100%;padding-top:20px;text-align:center\n}\n.mescroll-empty .empty-icon{width:45%\n}\n.mescroll-empty .empty-tip{margin-top:6px;font-size:14px;color:gray\n}\n.mescroll-empty .empty-btn{max-width:50%;margin:20px auto;padding:10px;border:1px solid #65aadd;border-radius:6px;background-color:white;color:#65aadd\n}\n.mescroll-empty .empty-btn:active{opacity:.75\n}\n.mescroll-totop{z-index:9990;position:fixed;right:10px;bottom:30px;width:36px;height:36px;border-radius:50%;opacity:0\n}\n.mescroll-fade-in{-webkit-animation:mescrollFadeIn .5s linear forwards;animation:mescrollFadeIn .5s linear forwards\n}\n@-webkit-keyframes mescrollFadeIn{\n0%{opacity:0\n}\n100%{opacity:1\n}\n}\n@keyframes mescrollFadeIn{\n0%{opacity:0\n}\n100%{opacity:1\n}\n}\n.mescroll-fade-out{pointer-events:none;-webkit-animation:mescrollFadeOut .5s linear forwards;animation:mescrollFadeOut .5s linear forwards\n}\n@-webkit-keyframes mescrollFadeOut{\n0%{opacity:1\n}\n100%{opacity:0\n}\n}\n@keyframes mescrollFadeOut{\n0%{opacity:1\n}\n100%{opacity:0\n}\n}\n.mescroll-bar::-webkit-scrollbar-track{background-color:transparent\n}\n.mescroll-bar::-webkit-scrollbar{width:6px\n}\n.mescroll-bar::-webkit-scrollbar-thumb{border-radius:6px;background-color:#ccc\n}\n.mescroll-bar::-webkit-scrollbar-thumb:hover{background-color:#aaa\n}\n",""])},zhnK:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])}});